.digit-frequency-chart {
    height: 100%;
    display: flex;
    flex-direction: column;

    .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;

        h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .chart-stats {
            display: flex;
            gap: 16px;

            .stat {
                display: flex;
                align-items: center;
                gap: 4px;

                .stat-label {
                    font-size: 11px;
                    color: #9ca3af;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .stat-value {
                    font-size: 13px;
                    font-weight: 600;
                    color: #10b981;
                    font-family: 'Monaco', 'Menlo', monospace;
                }
            }
        }
    }

    .chart-container {
        flex: 1;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        min-height: 200px;
        position: relative;

        .empty-chart {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #6b7280;

            .empty-icon {
                font-size: 32px;
                margin-bottom: 12px;
                opacity: 0.5;
            }

            .empty-text {
                font-size: 14px;
                font-weight: 500;
                text-align: center;
            }
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            width: 100%;
            height: 100%;
            gap: 8px;
            padding: 0 10px;

            .bar-container {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                height: 100%;
                position: relative;
                transition: all 0.3s ease;

                &.current {
                    transform: scale(1.05);
                    z-index: 10;

                    .bar-wrapper .bar {
                        animation: current-pulse 2s infinite;
                    }
                }

                &.hot {
                    .bar-info .percentage {
                        color: #f59e0b;
                        font-weight: 700;
                    }
                }

                &.cold {
                    .bar-info .percentage {
                        color: #3b82f6;
                        font-weight: 700;
                    }
                }

                .bar-info {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin-bottom: 8px;
                    min-height: 40px;
                    justify-content: flex-end;

                    .percentage {
                        font-size: 12px;
                        font-weight: 600;
                        color: #fff;
                        font-family: 'Monaco', 'Menlo', monospace;
                        line-height: 1.2;
                    }

                    .count {
                        font-size: 10px;
                        color: #9ca3af;
                        font-family: 'Monaco', 'Menlo', monospace;
                    }
                }

                .bar-wrapper {
                    flex: 1;
                    width: 100%;
                    position: relative;
                    display: flex;
                    align-items: flex-end;
                    min-height: 120px;

                    .bar {
                        width: 100%;
                        min-height: 4px;
                        border-radius: 4px 4px 0 0;
                        transition: all 0.3s ease;
                        position: relative;
                        animation: bar-grow 0.8s ease;

                        .current-indicator {
                            position: absolute;
                            top: -20px;
                            left: 50%;
                            transform: translateX(-50%);
                            color: #fff;
                            font-size: 14px;
                            animation: bounce 1s infinite;
                        }
                    }

                    .expected-line {
                        position: absolute;
                        left: -4px;
                        right: -4px;
                        height: 2px;
                        background: rgb(156 163 175 / 50%);
                        border-radius: 1px;

                        &:before {
                            content: '';
                            position: absolute;
                            left: -2px;
                            top: -1px;
                            width: 4px;
                            height: 4px;
                            background: #9ca3af;
                            border-radius: 50%;
                        }
                    }
                }

                .bar-label {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin-top: 8px;
                    gap: 4px;

                    .digit {
                        font-size: 16px;
                        font-weight: 700;
                        font-family: 'Monaco', 'Menlo', monospace;
                    }

                    .status-badge {
                        font-size: 10px;

                        &.hot {
                            animation: hot-glow 2s infinite;
                        }

                        &.cold {
                            animation: cold-pulse 2s infinite;
                        }
                    }
                }
            }
        }
    }

    .chart-legend {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
        padding-top: 16px;
        border-top: 1px solid rgb(255 255 255 / 10%);

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: #9ca3af;

            .legend-color {
                width: 12px;
                height: 12px;
                border-radius: 2px;

                &.expected {
                    background: #9ca3af;
                }

                &.hot {
                    background: #f59e0b;
                    box-shadow: 0 0 8px rgb(245 158 11 / 50%);
                }

                &.cold {
                    background: #3b82f6;
                    box-shadow: 0 0 8px rgb(59 130 246 / 50%);
                }

                &.current {
                    background: #10b981;
                    box-shadow: 0 0 8px rgb(16 185 129 / 50%);
                    animation: current-legend 2s infinite;
                }
            }
        }
    }

    // Animations
    @keyframes bar-grow {
        from {
            height: 0;
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes current-pulse {
        0%,
        100% {
            box-shadow: 0 2px 8px currentcolor;
        }

        50% {
            box-shadow: 0 0 25px currentcolor;
        }
    }

    @keyframes bounce {
        0%,
        100% {
            transform: translateX(-50%) translateY(0);
        }

        50% {
            transform: translateX(-50%) translateY(-5px);
        }
    }

    @keyframes hot-glow {
        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.6;
        }
    }

    @keyframes cold-pulse {
        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.4;
        }
    }

    @keyframes current-legend {
        0%,
        100% {
            box-shadow: 0 0 8px rgb(16 185 129 / 50%);
        }

        50% {
            box-shadow: 0 0 16px rgb(16 185 129 / 80%);
        }
    }

    // Responsive
    @media (width <= 768px) {
        .chart-header {
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;

            .chart-stats {
                gap: 12px;
            }
        }

        .chart-container .chart-bars {
            gap: 4px;
            padding: 0 5px;

            .bar-container {
                .bar-info {
                    min-height: 35px;

                    .percentage {
                        font-size: 11px;
                    }

                    .count {
                        font-size: 9px;
                    }
                }

                .bar-wrapper {
                    min-height: 100px;
                }

                .bar-label .digit {
                    font-size: 14px;
                }
            }
        }

        .chart-legend {
            flex-wrap: wrap;
            gap: 12px;
        }
    }
}
